#!/bin/sh

GREEN='\033[0;32m'
PURPLE='\033[0;35m'
NC='\033[0m'
BANNER=" ██ ▄█▀ ██▀███ ▓██   ██▓ ██▓███  ▄▄▄█████▓ ▒█████   ███▄    █ 
 ██▄█▒ ▓██ ▒ ██▒▒██  ██▒▓██░  ██▒▓  ██▒ ▓▒▒██▒  ██▒ ██ ▀█   █ 
▓███▄░ ▓██ ░▄█ ▒ ▒██ ██░▓██░ ██▓▒▒ ▓██░ ▒░▒██░  ██▒▓██  ▀█ ██▒
▓██ █▄ ▒██▀▀█▄   ░ ▐██▓░▒██▄█▓▒ ▒░ ▓██▓ ░ ▒██   ██░▓██▒  ▐▌██▒
▒██▒ █▄░██▓ ▒██▒ ░ ██▒▓░▒██▒ ░  ░  ▒██▒ ░ ░ ████▓▒░▒██░   ▓██░
▒ ▒▒ ▓▒░ ▒▓ ░▒▓░  ██▒▒▒ ▒▓▒░ ░  ░  ▒ ░░   ░ ▒░▒░▒░ ░ ▒░   ▒ ▒ 
░ ░▒ ▒░  ░▒ ░ ▒░▓██ ░▒░ ░▒ ░         ░      ░ ▒ ▒░ ░ ░░   ░ ▒░
░ ░░ ░   ░░   ░ ▒ ▒ ░░  ░░         ░      ░ ░ ░ ▒     ░   ░ ░ 
░  ░      ░     ░ ░                           ░ ░           ░ 
                ░ ░    "

if [ $# -lt 3 ]
then
     echo "${PURPLE}Usage: ./krypton \"PRiVATE_KEY\" \"DATA_PASSWORD\" \"DATA\"${NC}"
else
     echo "${GREEN}$BANNER${NC}"
     public_id=$(./app/gen_public_id "$1" | tr -d '\n')
     ./app/gpg "$2" "$3"
     echo -n "${PURPLE}"
     ./app/send "$1" "$public_id"
     echo -n "${NC}"
fi
